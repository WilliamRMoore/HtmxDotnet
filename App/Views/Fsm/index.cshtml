<div class="container-fluid">
    <div class="row">
        <!-- Left Column: FSM Editor -->
        <div class="col-md-8">
            <div id="fsm-editor-container" class="fsm-editor">
                <div id="controls" class="mb-3">
                    <button id="addState" class="btn btn-primary">Add State</button>
                    <button id="editState" class="btn btn-secondary">Edit State</button>
                    <button id="connectStates" class="btn btn-success">Connect States</button>
                    <button id="clearCanvas" class="btn btn-danger">Clear Canvas</button>
                </div>
                <canvas id="fsmCanvas" width="800" height="600" class="w-100"></canvas>
            </div>
        </div>

        <!-- Right Column: Form Panel -->
        <div class="col-md-4">
            <div class="fsm-state-form-container card p-3 shadow">
                <div id="existing-triggers">

                </div>
                <div class="mb-3">
                    <label for="trigger-input" class="form-label">Add Trigger</label>
                    <input name="trigger-input" id="trigger-input" type="text" class="form-control"
                        placeholder="Enter trigger">
                </div>
                <button id="addTrigger" class="btn btn-primary w-100">Add Trigger</button>
            </div>

            <div class="fsm-state-form-container card p-3 shadow">
                <div id="edit-state-form">

                </div>
                <div class="mb-3">
                    <label for="state-name" class="form-label">Edit StateName</label>
                    <input name="state-name" id="state-name" type="text" class="form-control"
                        placeholder="State name...">
                </div>
                <button id="save-state-name" class="btn btn-primary w-100">Save</button>
            </div>
        </div>
    </div>
</div>

<script src="~/dist/js/tools/fsme.js"></script>

<style>
    canvas {
        border: 1px solid black;
        display: block;
    }

    .fsm-editor {
        height: 100%;
    }

    /* Dark mode card styling */
    .fsm-state-form-container {
        height: auto;
        background-color: #343a40;
        /* Dark background */
        color: #ffffff;
        /* Light text for contrast */
        border-radius: 5px;
        border: 1px solid #495057;
        /* Subtle border for separation */
    }

    .fsm-state-form-container .form-label {
        color: #adb5bd;
        /* Muted text for labels */
    }

    .fsm-state-form-container .form-control {
        background-color: #495057;
        /* Dark input background */
        color: #ffffff;
        /* Light text for inputs */
        border: 1px solid #6c757d;
        /* Subtle border for inputs */
    }

    .fsm-state-form-container .form-control::placeholder {
        color: #ced4da;
        /* Light placeholder text */
    }

    .fsm-state-form-container .btn-primary {
        background-color: #007bff;
        border-color: #007bff;
    }

    .fsm-state-form-container .btn-primary:hover {
        background-color: #0056b3;
        border-color: #004085;
    }

    #controls {
        display: flex;
        gap: 10px;
    }
</style>
